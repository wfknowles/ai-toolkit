# Analysis of MVP Asset & Methodology Definition for MotM Chained Workflow (Round 2)

**Date:** 2025-04-26
**Author:** AI Assistant (Facilitator & Synthesizer)
**Contributors:** Prompt Engineer, AI Orchestrator/Architect, Senior Software Engineer, Principal Architect, Product Owner, Project Manager, AI UX Engineer, AI Agent Engineer (Simulated SMEs)

## Abstract

Following the Round 1 decision to pursue a Minimum Viable Product (MVP) for the Meeting of the Minds (MotM) chained workflow, this document details the outcomes of Round 2 discussions focused on defining the specific assets, strategies, methodologies, requirements, and guidelines necessary for MVP implementation. Simulated Subject Matter Experts (SMEs) conducted pre-analysis and interviews, culminating in a group session to finalize definitions. Key outputs include the formalization of the `state.json` schema, the strategy for handling auxiliary files, the Step Prompt Input/Output contract, the Orchestrator prompt's core logic, User Experience (UX) interaction templates, the MVP's fixed workflow sequence, and a consolidated list of requirements. This detailed definition phase provides the necessary blueprint for commencing the implementation and testing of the MotM Chained Workflow MVP.

## 1. Introduction

Round 1 established the strategic direction: build an MVP of the chained MotM workflow, focusing on replicating the existing process's functionality with improved UX (eliminating interruptions) within the Cursor AI environment before tackling generalization. Round 2 aimed to translate this strategy into a concrete technical and project definition by identifying and detailing the required components (assets) and approaches (strategies, methodologies).

## 2. Defined Assets for MVP Implementation

The R2 discussions solidified the definition of key assets required for the MVP:

*   **`state.json` Schema Definition (`state.schema.json`):** Formalizes the structure for persistent state, including keys like `workflow_id`, `schema_version`, `concept_input`, `current_step`, `status`, `error_message`, and a `data` object for step outputs. (Owner: Arch/AE)
*   **MVP Workflow Sequence Definition (`MVP_WORKFLOW.md`):** Explicitly documents the fixed, linear sequence of steps derived from the original MotM monoliths. (Owner: PA)
*   **Step Prompt Interface Contract (`INTERFACE_CONTRACT.md`):** Defines the standard input structure (data injected from `state.json`) and output structure (JSON block with `status`, `output_data` in response) for all Step Prompts. (Owner: Arch/AE)
*   **Step Prompt Template (`step-prompt-template.md`):** A reusable template file guiding the structure and content of individual Step Prompts. (Owner: PE)
*   **Orchestrator Meta-Prompt (Implementation):** The core prompt containing the control loop logic, state handling, step invocation, and response processing logic. (Implementation Owner: TBD, likely PE/AE)
*   **Step Prompts (Implementation):** Individual prompt files implementing each step in the `MVP_WORKFLOW.md` sequence, adhering to the template and interface contract. (Implementation Owner: TBD, likely PE/AE/SSE)
*   **UX Message Templates (Implementation Assets):** Specific text templates for status updates, checkpoint messages, and error reporting. (Definition Owner: UXE)
*   **MVP Acceptance Criteria (`MVP_ACCEPTANCE.md`):** Formal list of criteria defining successful MVP completion. (Owner: PO)
*   **Technical Design Document (`TECHNICAL_DESIGN.md`):** Central document consolidating all key design decisions, schema, workflow, interfaces, etc. (Owner: PA)
*   **MVP Project Plan (`PROJECT_PLAN.md`):** Outline of WBS, tasks, risks, and DoD for the MVP build. (Owner: PM)

## 3. Key Strategies and Methodologies Adopted

Consensus was reached on several critical approaches:

*   **Auxiliary File Handling:** Large text blobs generated by steps will be saved to separate `.md` files (named `[workflow_id]-[step_name]-[output_type].md`). Only the *relative path* to these files will be stored in `state.json` to keep it concise. Step Prompts are responsible for reading/writing these based on paths provided via state.
*   **State Update Mechanism:** The Orchestrator will read the current `state.json`, update its internal representation based on Step Prompt output, and then generate the *entire* new JSON content to *overwrite* `state.json` using the `edit_file` tool.
*   **Step Prompt Output:** Step Prompts *must* return a specific JSON block (`{ "status": "success"/"error", "output_data": {...} }`) within their chat response for reliable parsing by the Orchestrator.
*   **Orchestrator Response Processing:** The Orchestrator prompt includes explicit logic to find, parse, and validate this JSON block, checking the `status` key before proceeding.
*   **Error Handling:** Minimalist for MVP - halt on error, update state status, report clearly to the user. No automatic retry or recovery.
*   **UX Interaction Model:** Automated flow with status updates. Optional checkpoints (after R1 analysis & group discussion simulation) present a summary, link to details, and require an explicit `"continue"` reply from the user to proceed.
*   **Design Principles:** Emphasize modularity, clear naming, prompt comments, configuration-in-state (where possible), and comprehensive documentation to aid maintainability and potential future evolution.
*   **Testing Approach:** Relies on manual execution of conceptual unit (prompt), integration (orchestrator logic), and end-to-end tests within the Cursor environment.

## 4. Requirements Consolidation

The detailed functional, architectural, state management, step prompt, orchestrator, and UX requirements derived from these discussions were compiled into `MotM-meta/requirements.md`. This document serves as the master list defining the scope and specific implementation details for the MVP.

## 5. Identified Unknowns and Risks (R2 Perspective)

While definitions are clearer, key implementation unknowns and risks remain:
*   **LLM Consistency:** Reliability of the LLM in consistently adhering to prompt instructions (especially JSON output formatting and state update logic).
*   **Tool Reliability/Performance:** Latency of frequent file I/O; potential `edit_file` size or rate limits; graceful handling of tool errors by the LLM.
*   **Testing Feasibility:** Practicality and effectiveness of the manual testing strategy.
*   **Effort Estimation:** Difficulty in accurately predicting prompt engineering and debugging time.
*   **Maintainability:** Long-term challenge of debugging and modifying complex, interdependent prompts.
*   **Context Window Limits:** Potential for complex Orchestrator + Step Prompt combinations to exceed limits.

## 6. Conclusion

Round 2 successfully translated the high-level MVP strategy from Round 1 into a detailed set of definitions, requirements, and methodologies. The necessary assets have been identified, key technical approaches decided, ownership assigned for documentation, and UX interactions specified. While significant implementation risks persist due to the nature of prompt-driven development in a constrained environment, this detailed blueprint provides a solid foundation for initiating the MVP build phase. The focus remains on delivering the core UX improvement for the existing MotM workflow as the primary goal of this initial iteration. 